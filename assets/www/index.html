<!doctype html>
<html class="no-js ui-mobile-rendering" lang="en">
    <head>
        <title>JStock</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=0.5, user-scalable=1">
        <!--<meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9, target-densitydpi=medium-dpi, user-scalable=0" />-->
        <link rel="stylesheet" href="css/themes/default/jquery.mobile-1.4.0.min.css">
        <link rel="shortcut icon" href="../favicon.ico">
        <link rel="stylesheet" href="css/font.css">
        <link rel="stylesheet" href="css/jqm-demos.css">
        <script src="js/libs/require.js" data-main="js/mobile"></script>


        <script type="text/javascript">
            function getDeviceDimention() {
                console.log("Device Dimention using PhoneGap");
                console.log("Width = " + window.innerWidth);
                console.log("Height = " + window.innerHeight);
            }
            getDeviceDimention();

            function toMoney(val) {
                var parts = val.toString().split(".");
                return parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",") + (parts[1] ? "." + parts[1] : "");
            }

            String.prototype.ellipse =
                    function(n, useWordBoundary) {
                        var toLong = this.length > n,
                                s_ = toLong ? this.substr(0, n - 1) : this;
                        s_ = useWordBoundary && toLong ? s_.substr(0, s_.lastIndexOf(' ')) : s_;
                        return  toLong ? s_ + '&hellip;' : s_;
                    };

            function parseDate(input) {
                var parts = input.split('-');
                // new Date(year, month [, day [, hours[, minutes[, seconds[, ms]]]]])
                var date = new Date(parts[0], parts[1] - 1, parts[2]);
                return date.toString('dddd, MMMM ,yyyy').substring(4, 15);
            }
        </script>

        <style type="text/css">

            .ui-navbar li .ui-btn {
                font-size: 0.65em;
            }
            #content-holder{
                margin-bottom: 2.5em;
            }

            .ui-content {
                padding: 0.03em;
            }

            .jqm-block-content {
                margin: .35em;
                padding: 0.5em;
                min-height: 0.1em;
            }

            .jqm-block-content p {
                font-size: 0.8em;
                font-weight: 300;
                line-height: 1.4;
                margin: .7em 0;
            }

            .ui-icon-home:after{background-image:url('images/home_a.png')}
            .ui-icon-calendar:after{background-image:url('images/calendar_a.png')}
            .ui-icon-news:after{background-image:url('images/news_a.png')}
            .ui-icon-report:after{background-image:url('images/report_a.png')}
            .ui-icon-quote:after{background-image:url('images/quote_a.png')}

            .application-icon .ui-btn-icon-left:after, 
            .application-icon .ui-btn-icon-right:after,
            .application-icon .ui-btn-icon-top:after, 
            .application-icon .ui-btn-icon-bottom:after,
            .application-icon .ui-btn-icon-notext:after {
                content: "";
                position: absolute;
                display: block;
                width: 32px;
                height: 32px;
            }

            .application-icon .ui-btn-icon-left:after, 
            .application-icon .ui-btn-icon-right:after, 
            .application-icon .ui-btn-icon-top:after, 
            .application-icon .ui-btn-icon-bottom:after, 
            .application-icon .ui-btn-icon-notext:after {

                background-color: rgba(255,255,255,0);
                background-position: center center;
                background-repeat: no-repeat;
                -webkit-border-radius: 1em;
                border-radius: 1em;
            }

            .application-icon .ui-btn-icon-bottom:after {
                bottom: -0.35em;
            }

            .application-icon .ui-btn-active{ 
                color: #FFF !important;
                border-color: red;
                background: none !important;
                background-color: rgba(255,255,255,0) !important;  
                border-width: 0;
            }

            .market-index * { 
                text-shadow:0 0 0 !important; 
            }
            .market-index .ui-btn{
                font-weight: normal !important;
            }
            .market-index  a{ 
                color: #6B6B6B !important;
            }

            .market-index .ui-btn-active{ 
                font-weight: bold !important;
                border-color: red;
                background: none !important;
                background-color: rgba(255,255,255,0) !important;  
                border-width: 0;
                border-bottom-width: 0;
            }

            .jqm-demos .jqm-content {
                padding-top: 1em;
            }

            .summary-heading-1 {
                color: #333;
                font-size: 1.1em !important;
                margin: 0 0 .625em !important;
                font-family: 'Open Sans', sans-serif !important;
                font-weight: 300 !important;
                -webkit-margin-before: 0.0em !important;
            }

            .summary-heading-3 {
                height:40px;
                font-size: 1.1em;
                font-weight: 300;
                padding-left: .25em;
                width:100%;


            }

            .advancing{
                background: url('images/advancing.png')  no-repeat;
                background-position: 99% 50%;
                background-size: 24px 24px;
            }
            .declining{
                background: url('images/declining.png')  no-repeat;
                background-position: 99% 50%;
                background-size: 24px 24px;
            }

            .traded{
                background: url('images/dollar.png')  no-repeat;
                background-position: 99% 50%;
                background-size: 24px 24px;
            }

            /*Tables */
            .stock-t
            {
                line-height: 1.6em;
            }

            .stock-t
            {

                font-size: 0.5em;
                background: #fff;

                width: 100%;
                border-collapse: collapse;
                text-align: left;
            }
            .stock-t th
            {
                color: #888687;
                padding: 7px 5px;
                border-bottom: 2px solid #ddd;
            }
            .stock-t td
            {
                color: #888687;
                padding: 5px 4px 0px 4px;
            }
            .stock-t tbody tr:hover td
            {
            }

            img#graph-img { outline: 0; max-width: 100%; height: auto;}

            .market-details{
                font-size:0.45em;
            }
            .market-details th
            {
                color: #888687;
                padding: 5px 5px;
            }
            
            .stock-direction{
                padding-left: 3px;
            }
        </style>
    </head>
    <body>
        <div id="appview" data-role="page" data-title="Categories" class="jqm-demos" data-quicklinks="true">

            <div data-role="header" data-tap-toggle="false" class="jqm-header" data-position="fixed">
                <h2><a href="../" title="jQuery Mobile Demos home"><img src="images/logo.png" alt="jQuery Mobile"></a></h2>
                <a href="#" class="jqm-navmenu-link ui-btn ui-btn-icon-notext ui-corner-all ui-icon-bars ui-nodisc-icon ui-alt-icon ui-btn-left">Menu</a>
                <a href="#" class="jqm-search-link ui-btn ui-btn-icon-notext ui-corner-all ui-icon-search ui-nodisc-icon ui-alt-icon ui-btn-right">Search</a>
            </div>

            <div data-role="navbar" class="market-index">
                <ul>
                    <li><a id="main_index" href="">Main Index</a></li>
                    <li><a id="jse_select" href="">JSE Select</a></li>
                    <li><a id="all_jamaican" href="">All Jamaican</a></li>
                    <li><a id="cross_listed" href="">Cross Listed</a></li>
                </ul>
            </div>

            <div id="content-holder" role="main" class="ui-content jqm-content">

            </div><!-- /content -->

            <div data-role="navbar" data-position="fixed" data-iconpos="bottom" class="ui-footer ui-footer-fixed slideup ui-bar-inherit application-icon">
                <ul>
                    <li><a href="#home" class="ui-btn-active" data-icon="home"></a></li>
                    <li><a href="#report" data-icon="report"></a></li>
                    <li><a href="#calendar" data-icon="calendar"></a></li>
                    <li><a href="#news" data-icon="news"></a></li>
                    <li><a href="#quote" data-icon="quote"></a></li>
                </ul>
            </div>

            <div data-role="panel" class="jqm-search-panel" data-position="right" data-display="overlay" data-theme="a">
                <div class="jqm-search">
                    <ul class="jqm-list" data-filter-placeholder="Search market" data-filter-reveal="true">
                        <li data-filtertext="introduction overview getting started"><a href="../intro/" data-ajax="false">Introduction</a></li>
                        <li data-filtertext="buttons button markup buttonmarkup method anchor link button element"><a href="../button-markup/" data-ajax="false">Buttons</a></li>
                        <li data-role="collapsible" data-collapsed-icon="carat-d" data-expanded-icon="carat-u" data-iconpos="right" data-inset="false">

                    </ul>
                </div>
            </div>
            <div id="main_head" data-role="panel" class="jqm-navmenu-panel" data-position="left" data-display="overlay" data-theme="a">
                <ul class="jqm-list ui-alt-icon ui-nodisc-icon">
                    <li data-filtertext="demos homepage" data-icon="home"><a href=".././">Main Market</a></li>
                    <li data-filtertext="introduction overview getting started"><a href="../intro/" data-ajax="false">Jnr. Market</a></li>
                    <li data-filtertext="buttons button markup buttonmarkup method anchor link button element"><a href="../button-markup/" data-ajax="false">Comb. Market</a></li>
                    <li data-filtertext="form button widget input button submit reset"><a href="../button/" data-ajax="false">US Market</a></li>
                    <li data-role="collapsible" data-collapsed-icon="carat-d" data-expanded-icon="carat-u" data-iconpos="right" data-inset="false">

                </ul>
            </div>
        </div>

        <div id="home" data-role="page" data-title="Home">
            <div class="ui-block-a" style="width:100%">
                <div class="jqm-block-content">
                    <div style="font-size:0.85em">
                        <h1 class="summary-heading-1">Daily Main Market Summary - <span id="summary-date"></span></h1>
                    </div>
                    <p id="market-summart1"></p>
                </div>
            </div>

            <div class="ui-block-a" style="width:100%">
                <div class="jqm-block-content">
                    <div >
                        <img id="graph-img" src="" alt="Graph" width="100%">
                    </div>
                    <div style="font-size:0.7em"></div>
                </div>
            </div>

            <div class="ui-block-a" style="width:100%">
                <div class="jqm-block-content">
                    <table class="market-details">
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="ui-block-a" style="width:100%;">
                <div class="jqm-block-content">
                    <div class="summary-heading-3 advancing">Stocks Advancing</div>
                    <table id="stock-adv" class="stock-t" summary="Stocks Advancing">
                        <thead>
                            <tr>
                                <th scope="col">Security</th>
                                <th scope="col">Volume</th>
                                <th scope="col">Close Price $</th>
                                <th scope="col">Change $</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="ui-block-a" style="width:100%;">
                <div class="jqm-block-content">
                    <div class="summary-heading-3 declining">Stocks Declining</div>
                    <table id="stock-dec" class="stock-t" summary="Stocks Declining">
                        <thead>
                            <tr>
                                <th scope="col">Security</th>
                                <th scope="col">Volume</th>
                                <th scope="col">Close Price $</th>
                                <th scope="col">Change $</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="ui-block-a" style="width:100%;">
                <div class="jqm-block-content">
                    <div class="summary-heading-3 traded">Stocks Trading firm</div>
                    <table id="stock-trd" class="stock-t" summary="Stocks Trading firm">
                        <thead>
                            <tr>
                                <th scope="col">Security</th>
                                <th scope="col">Volume</th>
                                <th scope="col">Close Price $</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="colors" data-role="page" data-title="Colors">

            <div data-role="header">
                <h1>Colors</h1>
            </div><!-- /header -->

            <div role="main" class="ui-content">
                <ul data-role="listview" data-inset="true">
                </ul>
            </div><!-- /content -->

        </div>

        <div id="vehicles" data-role="page" data-title="Vehicles">

            <div data-role="header">
                <h1>Vehicles</h1>
            </div><!-- /header -->

            <div role="main" class="ui-content">
                <ul data-role="listview" data-inset="true">
                </ul>
            </div><!-- /content -->

        </div>

        <div id="report" data-role="page" data-title="Report">

            <div data-role="header">
                <h1>Report</h1>
            </div><!-- /header -->

            <div role="main" class="ui-content">
                <ul data-role="listview" data-inset="true">
                </ul>
            </div><!-- /content -->

        </div>

        <!-- Underscore Template that is used to display all of the Category Models -->
        <script id="categoryItems" type="text/template">

            <% _.each( collection.toJSON(), function( category, id ) { %>

            <li class="ui-li-static">
            <%= category.type %>
            </li>

            <% }); %>

        </script>
        <script id="stocks" type="text/template">
            <% _.each( stocks, function( stock, id ) { %>
            <tr>
            <td><%=stock.security.ellipse(25)%></td>
            <td><%=toMoney(stock.volume)%></td>
            <td><%=stock.close_price%></td>
            <td><%=stock.change%></td>
            </tr>
            <% }); %>
        </script>
        <script id="stocks-trd" type="text/template">
            <% _.each( stocks, function( stock, id ) { %>
            <tr>
            <td><%=stock.security.ellipse(25)%></td>
            <td><%=toMoney(stock.volume)%></td>
            <td><%=stock.close_price%></td>
            </tr>
            <% }); %>
        </script>
        <script id="market-summary" type="text/template">
            <span><b><%=summary['total']%>:</b></span>&nbsp;
            <span><%=summary['advanced']%>,</span>&nbsp;
            <span><%=summary['declined']%>,</span>&nbsp;
            <span><%=summary['traded']%></span>
        </script>

        <script id="market-details" type="text/template">
            <tr>
            <th scope="col">Volume: <i><%=toMoney(summary['vol'])%></i></th>
            <th scope="col">Value: <i><%=toMoney(summary['value'])%></i></th>
            <th scope="col">Change: <i><%=summary['change']%></i></i><img class="stock-direction" height="6px" width="6px" id="" src="images/<%=summary['change_dir']%>.gif" alt="" width="100%"></th>
            <th scope="col">% Change: <i><%=summary['change_perc']%></i><img class="stock-direction" height="6px" width="6px" id="" src="images/<%=summary['change_perc_dir']%>.gif"" alt="" width="100%"></th>
            </tr>
        </script>
    </body>
</html>
